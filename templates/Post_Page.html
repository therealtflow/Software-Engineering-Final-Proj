{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}
  <div class="divider">
    <h1 style="color:white">{{post.Name}} </h1>
  </div>
  <div class="card-body" style="font-size: 25px; font-family: 'Consolas', monospace;">
    <pre>
      <code class="html">
        {{post.Code}}
      </code>
    </pre>
  </div>
    <div style="margin-left: 20px;">
      <h5>
        From:
      </h5>
      <userName style="font-family: 'Courier New', Courier, monospace; font-size:larger; padding: 10px; margin-bottom: 10px;">
        <i>@{{post.CreatedBy}}</i>
      </userName>
      <h5 class="card-title">Languages used: <span class="badge bg-secondary">{{post.tag}}</span></h5>
        <h5>
          Description:
        </h5>
        <p>
          {{post.Description}}
        </p>

        <div class="comment-section" style="text-align: left">
          <h5 style="text-align: Left;">Comments:</h5>
            {% for comment in post.comments %}  
              <div class="comment" style="padding: 10px">
                <p>@{{ comment }}</p>
              </div>
            {% endfor %}
          </div>
        </div> 
        
        <form action="/Post/{{ post_id }}/comment" method="post">
          <h5 style="margin-left:20px">Leave a comment:</h5>
          <textarea name="comment" placeholder="Write your comment here" required style="margin-left:20px"></textarea>
          <br>
          <div style="display: flex;">
            <button type="submit" class="btn btn-light" style="background-color: blueviolet; color: white; margin-top: 15px; margin-left:20px">Comment</button>
          </div>
        </form>
        {% if CreatedBy %}
          <form action="">
            <a href="/Post/delete/{{post.post_id}}" type = "Remove" class="btn btn-light" style="background-color: red; color: white; margin-top: 15px; margin-left:20px">Remove Post</a> 
          </form>
        {% endif %}
    </div>
{% endblock %}


  <script type="module">

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCskM9LOUxh2u6n0VHUm5OcoOQ-3vqcC8c",
      authDomain: "loop-5d015.firebaseapp.com",
      projectId: "loop-5d015",
      storageBucket: "loop-5d015.appspot.com",
      messagingSenderId: "289520327252",
      appId: "1:289520327252:web:c6b786967f08ca3c6b6bc1",
      measurementId: "G-Y1NC3DPKYN"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);
    const analytics = getAnalytics(app);
  </script>


  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<footer>
</footer>